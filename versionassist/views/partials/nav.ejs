
<nav class="navbar is-light" role="navigation" aria-label="main navigation">
  
  <div class="navbar-brand">
      <a class="navbar-item" href="/">
        <svg class="u30-oicn" xmlns="http://www.w3.org/2000/svg" width="181" height="30" viewBox="0 0 231 30" preserveAspectRatio="xMinYMid"><path d="M99.61,19.52h15.24l-8.05-13L92,30H85.27l18-28.17a4.29,4.29,0,0,1,7-.05L128.32,30h-6.73l-3.17-5.25H103l-3.36-5.23m69.93,5.23V0.28h-5.72V27.16a2.76,2.76,0,0,0,.85,2,2.89,2.89,0,0,0,2.08.87h26l3.39-5.25H169.54M75,20.38A10,10,0,0,0,75,.28H50V30h5.71V5.54H74.65a4.81,4.81,0,0,1,0,9.62H58.54L75.6,30h8.29L72.43,20.38H75M14.88,30H32.15a14.86,14.86,0,0,0,0-29.71H14.88a14.86,14.86,0,1,0,0,29.71m16.88-5.23H15.26a9.62,9.62,0,0,1,0-19.23h16.5a9.62,9.62,0,1,1,0,19.23M140.25,30h17.63l3.34-5.23H140.64a9.62,9.62,0,1,1,0-19.23h16.75l3.38-5.25H140.25a14.86,14.86,0,1,0,0,29.71m69.87-5.23a9.62,9.62,0,0,1-9.26-7h24.42l3.36-5.24H200.86a9.61,9.61,0,0,1,9.26-7h16.76l3.35-5.25h-20.5a14.86,14.86,0,0,0,0,29.71h17.63l3.35-5.23h-20.6" transform="translate(-0.02 0)"></path></svg>
      </a>
  
      <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </a>
  </div>

  <div id="navMenu" class="navbar-menu">
    <div class="navbar-start">

      
      <% if (title === 'Platform Tools') { %>
        <a class="navbar-item has-text-white" style="background-color: #f80000;" href="/">
      <% }else{ %>
        <a class="navbar-item" href="/">
      <% } %>
        Home
      </a>

      <% if (currentUser) { %>
      <% if (title === 'Configure') { %>
        <a class="navbar-item has-text-white" style="background-color: #f80000;" href="/configure">
      <% }else{ %>
        <a class="navbar-item" href="/configure">
      <% } %>
          Configure
      </a>
      <% } %>

      <% if (currentUser && currentUser.role.includes('admin')) { %>
      <% if (title === 'Administrate') { %>
        <a class="navbar-item has-text-white" style="background-color: #f80000;" href="/administrate">
      <% }else{ %>
        <a class="navbar-item" href="/administrate">
      <% } %>
          Administrate
      </a>
      <% } %>

    </div>

    <div class="navbar-end">
      <% if (currentUser) { %>
        <a class="navbar-item" href="/configure/account">
          Welcome <%= currentUser.name %>
        </a> 

        <a class="navbar-item" href="/logout">
          Logout       
        </a>
      <% }else{ %>
        <a class="navbar-item" href="/auth/google">
            Authenticate with Google
        </a>
      <% } %>

      <a class="navbar-item">
        <span style="margin: 4px;">Help</span> 
          <lord-icon
              src="https://cdn.lordicon.com/gmgkjaqp.json"
              trigger="hover"
              style="width:20px;height:20px">
          </lord-icon>
          
      </a>

    </div>
  </div>

</nav>

<script>
  document.addEventListener('DOMContentLoaded', () => {

    // Get all "navbar-burger" elements
    const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

    // Add a click event on each of them
    $navbarBurgers.forEach( el => {
      el.addEventListener('click', () => {

        // Get the target from the "data-target" attribute
        const target = el.dataset.target;
        const $target = document.getElementById(target);

        // Toggle the "is-active" class on both the "navbar-burger" and the "navbar-menu"
        el.classList.toggle('is-active');
        $target.classList.toggle('is-active');

      });
    });

  });

</script>